<!DOCTYPE html>
<html lang="fa">
<head>
    <title>مستندات وندار | ارایه دهنده راهکارهای پرداخت</title>
    <meta name="description" content="">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="format-detection" content="telephone=no">
    <link href="https://fonts.googleapis.com/css2?family=Markazi+Text&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.rtl.css">
    <link rel='icon' href='../favicon.ico' type='image/x-icon' >
</head>
<body dir="rtl">
<header id="header">
    <h1>Vandar</h1>
    <h2>مستندات وندار</h2>
</header>

<div class="container">
    <div class="row">
        <div class="col-sm-3">
            <div id="myHeader">
                <ul>
                    <!--                <li>-->
                    <!--                    <a href="https://vandarpay.github.io/docs/" class="active">مفاهیم اولیه</a>-->
                    <!--                    &lt;!&ndash;                    <div class="sidenav">&ndash;&gt;-->
                    <!--                </li>-->

                    <li>
                        <button class="dropdown-btn">مفاهیم اولیه
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/#postman">Postman</a><br>
                            <a href="https://vandarpay.github.io/docs/#start">شروع کنید</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">درگاه پرداخت

                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/ipg/#payment-gateways">ساخت و ویرایش درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#active-ipg">فعال کردن درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#implementation">پیاده سازی فنی درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-1">مرحله اول</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-2">مرحله دوم</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-3">مرحله سوم</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-4">مرحله چهارم</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">لاگین
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/auth/#step-1">مرحله اول</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">کسب‌وکار
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/business/#business">لیست کسب و کار ها</a><br>
                            <a href="https://vandarpay.github.io/docs/business/#information">اطلاعات</a><br>
                            <a href="https://vandarpay.github.io/docs/business/#users">کاربران</a><br>
                            <!--                        </div>-->
                        </div>
                        <!--                        <a href="https://vandarpay.github.io/docs/business">کسب‌وکار</a>-->
                    </li>
                    <li>
                        <button class="dropdown-btn">صورت حساب
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/invoice/#wallet">کیف پول</a><br>
                            <a href="https://vandarpay.github.io/docs/invoice/#transactions">صورت حساب</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">سرویس تسویه
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/settlement/#settlements">لیست تسویه ها</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#request-settlement">ثبت درخواست تسویه</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#settlement-details">نمایش جزییات یک تسویه</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#cancel">لغو یک تسویه</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">سرویس اشتراک
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/subscription/#directdebit">مقدمه</a><br>
                            <a href="https://vandarpay.github.io/docs/subscription/#get-token">سرویس دریافت توکن</a><br>
                            <a href="https://vandarpay.github.io/docs/subscription/#withdrawal">سرویس برداشت وجه</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <a href="https://vandarpay.github.io/docs/banks">بانک‌ها</a>
                    </li>
                    <li>
                        <a href="https://vandarpay.github.io/docs/errors">خطا‌ها</a>
                    </li>
                </ul>
            </div>

        </div>
        <div class="col-sm-9">
                <article class="content">

                    <div>
                        آخرین تغییرات: ۱۳۹۹/۰۸/۲۱
                    </div>

                    <div class="article" id="ipg">
                        <h2 class="article-header" id="payment-gateway"><a href="#payment-gateway">ساخت و ویرایش درگاه پرداخت</a></h2>
                        <h3 class="title" id="active-ipg">
                            <strong><a href="#active-ipg">فعال کردن درگاه پرداخت</a> </strong>
                        </h3>
                        <p>صفحه اولی که بعد از ساخت کسب و کار می‌بینید این صفحه است. که با استفاده از لینک جعبه ابزار وارد صفحه جعبه ابزار شوید. منو جعبه ابزار همیشه از منو سمت راست در دسترس است.</p>
                        <img src="../images/create-ipg-001.png" alt="جعبه ابزار">

                        <p>برای شروع ساخت درگاه پرداخت بر روی دکمه فعال سازی کلیک کنید.</p>
                        <img src="../images/create-ipg-002.png" alt="جعبه ابزار">

                        <p>صفحه ای که برای شما باز می‌شود از شما تایید نهایی برای ساخت درگاه را می‌گیرد.</p>
                        <img src="../images/create-ipg-003.png" alt="">

                        <p>این صفحه به شما نشان می‌دهد که درگاه پرداخت شما فعال شده و حال باید درگاه پرداخت را بسازید و تنظیمات آن را انجام دهید.</p>
                        <img src="../images/create-ipg-004.png" alt="">

                        <p>بعد از کلیک روی ساخت درگاه از این قسمت باید تنظیمات درگاه پرداخت را وارد کنید. آدرس وبسایت حتما باید به http یا https وارد شود.</p>
                        <img src="../images/create-ipg-005.png" alt="">

                        <p>بعد از پر کردن آدرس وبسایت و آی‌پی باید درگاه مشخص کنید که کارمزد از شما کم شود یا از مشتری شما. و در نهایت مشخص می‌کنید که آیا درگاه پرداخت اشتراکی می‌خواهید و یا اختصاصی.</p>
                        <img src="../images/create-ipg-006.png" alt="">

                        <p>تفاوت درگاه اختصاصی و یا اشتراکی چیست؟</p>
                        <img src="../images/create-ipg-011.png" alt="">

                        <p>اگر درگاه پرداخت اختصاصی را انتخاب کنید برای پرداخت کارمزد فعال سازی درگاه اختصاصی به صفحه بانک هدایت می‌شوید.</p>
                        <img src="../images/create-ipg-007.png" alt="">

                        <p>اگر درگاه اشتراکی را انتخاب کردید فعال سازی تا ۱۲ ساعت زمان می‌برد و اگر اختصاصی باشد فعال سازی تا ۷۲ ساعت زمان می‌برد.</p>
                        <img src="../images/create-ipg-008.png" alt="">
                        <div class="info">
                            <strong>نکته!</strong>
                            اگر درگاه اشتراکی فعال دارید با تغییر به درگاه اختصاصی هیچ اختلالی در روند فعلی شما پیش <strong>نمی‌آید</strong>.
                        </div>

                        <p>همیشه از بخش جزییات به تنظیمات درگاه پرداخت دسترسی دارید. و کلید API صادر شده برای پیاده سازی فنی همیشه از این بخش در دسترسی است.</p>
                        <img src="../images/create-ipg-009.png" alt="">

                        <p>برای ویرایش جزییات درگاه می‌توانید از کلید ویرایش استفاده کنید.</p>
                        <img src="../images/create-ipg-010.png" alt="">

                        <h2 class="article-header" id="implementation">
                        <a href="#implementation">پیاده سازی فنی درگاه پرداخت</a>
                        </h2>
                        <div>
                            <h3 class="title" id="introduction">
                                <strong><a href="#introduction">مقدمه</a> </strong>
                            </h3>
                            <p>برای فروشـگاه‌های اینترنتی که خدمات یا محصولاتی را در وب‌سـایت خود ارائه می‌کنـند، از درگاه پرداخت وندار استفاده کنید.</p>
                            <p>قبل از شروع پیاده سازی بهتر است یک بار فرایند پرداخت را با هم مرور کنیم.</p>
                            <ul>
                                <li>مرحله اول: ارسال اطلاعات تراکنش و دریافت توکن پرداخت.</li>
                                <li>مرحله دوم: انتقال کاربر به صفحه پرداخت با توکنی که از مرحله اول دریافت کردید.</li>
                                <li>مرحله سوم (اختیاری): قبل از تایید تراکنش اطلاعات تراکنش را دریافت می‌کنید.</li>
                                <li>مرحله چهارم: بعد از فرایند پرداخت کاربر به آدرسی بازگشتی که در مرحله اول ارسال کردید، بر‌میگردد. و شما برای نهایی شدن تراکنش حتما باید متد وریفای تراکنش رو صدا بزنید. و نتیجه نهایی تراکنش را دریافت کنید. <strong>(پایان تراکنش)</strong></li>
                            </ul>
                            <p>این چهار مرحله کلی مقدمه سه نکته مهم است که توجه شما را به این نکات جلب می‌کنم.</p>
                            <div class="info">
                                <strong>نکته!</strong> تعداد زیادی از کسب و کارها قبل از تایید یک تراکنش و نهایی کردن آن ممکن است به اطلاعات تراکنش نیاز داشته باشند. به عنوان مثال اگر بخواهید شماره کارت پرداخت کننده را قبل از نهایی کردن تراکنش صحت سنجی کنید مرحله سوم که دریافت اطلاعات شماره کارت است را فراخوانی می‌کنید و پارامتر "cid" که هش "SHA256" شماره کارت است را با شماره کارتی که پرداخت کننده از قبل نزد شما ثبت کرده است، تطابق می‌دهید. اما اگر به این صحت سنجی نیاز نداشته باشید. فراخوانی این سرویس اختیاری است.
                            </div>
                            <div class="info">
                                <strong>نکته!</strong> اگر کسب و کار و درگاه پرداخت شما تایید نشده است و در مراحل تایید است و قصد پیاده سازی درگاه را دارید از همکاران پشتیبان وندار بخواهید شما را به کسب و کاری با نام "سند باکس" عضو کنند و "api_key" تست دریافت کنید.
                                بعد از پیاده سازی و تایید شدن درگاه تنها لازم است که کلید جدید را جایگزین کلید تست کنید.
                            </div>
                            <div class="info">
                                <strong>نکته!</strong> این ورژن آخرین ورژن درگاه پرداخت وندار است. ورژن های قدیمی وندار پابرجا است. اما با توجه به تغییرات انجام شده سرعت انجام تراکنش در این ورژن بالاتر است. و این ورژن قابلیت های درگاه پرداخت دومرحله ای و تک مرحله ای را همزمان داراست.
                                <br>
                                <strong>به هیچ عنوان در ورودی و خروجی ها تغییر داده نشده است. پس فقط با تغییر آدرس می‌توانید به ورژن ۳ مهاجرت کنید.</strong>
                            </div>
                        </div>
                        <div>
                            <h3 class="title" id="step-1">
                                <strong> <a href="#step-1">  مرحله اول:</a></strong> ارسال اطلاعات و دریافت توکن
                            </h3>
                            <p>در مرحله اول باید پارامترهای موجود در جدول زیر را با متد POST به آدرسی که مشخص شده ارسال کنید. به نوع داده‌ها و نام فیلد توجه کنید. اگر برای فیلد شماره موبایل، شماره موبایل کاربر را به درگاه ارسال نمایید، کاربر به صورت خودکار به صفحه پرداخت درگاه موبایلی هدایت می‌شود، به این معنی که در صفحه‌ی درگاه پرداخت بر مبنای شماره موبایل کاربر فهرست کارت‌های ذخیره شده‌اش در PSP نمایش داده می‌شود.</p>
                            <pre>
<span class="key">METHOD:</span> post
<span class="key">URL:</span> https://ipg.vandar.io/api/v3/send
                            </pre>
                            <h3 class="sub-title">
                                پارامترهای مجاز
                            </h3>
                            <table>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                </tr>
                                <tr>
                                    <td>api_key</td>
                                    <td>string</td>
                                    <td>required</td>
                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>Integer</td>
                                    <td>required</td>
                                </tr>
                                <tr>
                                    <td>callback_url</td>
                                    <td>String</td>
                                    <td>required</td>
                                </tr>
                                <tr>
                                    <td>mobile_number</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>factorNumber</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>description</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>national_code</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>valid_card_number</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                            </table>
                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>api_key (اجباری): این کلید بعد از ساخت درگاه پرداخت صادر می‌شود. برای دریافت این کلید به داشبورد وندار مراجعه کنید.</li>
                                <li>amount (اجباری): مبلغ تراکنش به صورت ریالی و بزرگتر یا مساوی 1000.</li>
                                <li>callback_url (اجباری): باید با آدرس درگاه پرداخت تایید شده در وندار بر روی یک دامنه باشد.</li>
                                <li>mobile_number (اختیاری): شماره موبایل (اختیاری، جهت نمایش کارت های خریدار به ایشان و نمایش درگاه موبایلی).</li>
                                <li>factorNumber (اختیاری): شماره فاکتور شما (اختیاری).</li>
                                <li>description (اختیاری): توضیحات (اختیاری، حداکثر 255 کاراکتر).</li>
                                <li>national_code (اختیاری): کد ملی معتبر (در صورت ارسال کد ملی، کاربر فقط با کارت‌های بانکی تحت مالکیت آن کد ملی قابلیت پرداخت خواهد داشت).</li>
                                <li>valid_card_number (اختیاری): شماره کارت معتبر (در صورت ارسال شماره کارت، کاربر فقط با همان شماره کارت قابلیت پرداخت خواهد داشت).</li>
                            </ul>
                            <h3 class="sub-title">
                                نمونه json
                            </h3>
                            <pre>
{
    "<span class="key">api_key</span>": "کلید درگاه پرداخت دریافتی از پنل",
    "<span class="key">amount</span>": 1000,
    "<span class="key">callback_url</span>": "https://example.com/callback",
    "<span class="key">mobile_number</span>": "09123456789",
    "<span class="key">factorNumber</span>": "12345",
    "<span class="key">description</span>": "توضیحات دلخواه",
    "<span class="key">national_code</span>": "کد ملی پرداخت کننده",
    "<span class="key">valid_card_number</span>": "شماره کارت معتبر",
}
                            </pre>
                            <div class="info">
                                <strong>نکته!</strong> آدرس بازگشتی در فرایند پرداخت وندار بسیار مهم است. از بخش تنظیمات درگاه پرداخت می‌توانید تعداد نامحدودی آدرس وبسایت به درگاه پرداخت خود اضافه کنید. لطفا دامنه و تمامی ساب دامنه‌های وبسایت خود را که قصد دارید به عنوان آدرس بازگشتی ارسال نمایید را به پنل خود اضافه کنید. هنگام وارد کردن آدرس ها به http و https هم دقت کنید. در صورت رعایت نکردن این نکات خطای <strong>آدرس بازگشتی نامعتبر است</strong> را دریافت می‌کنید.
                                <img src="../images/ipg-setting.png" alt="تنظیمات درگاه پرداخت">
                                <img src="../images/ipg-url.png" alt="تنظیمات درگاه پرداخت">
                            </div>
                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی موفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 200
{
    "<span class="key">status</span>": 1,
    "<span class="key">token</span>": "توکن پرداختی که در مراحل بعدی مورد استفاده قرار می‌گیرد.",
}
                            </pre>
                            <ul>
                                <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                                <li>token: یک رشته از حروف و اعداد است با طول متغییر، که توکن پرداخت است و باید سمت پذیرنده نگهداری شود.</li>
                            </ul>
                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی ناموفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 4xx
{
    "<span class="key">status</span>": 0,
    "<span class="key">errors</span>": [
        "وارد کردن api key الزامی است",
        "api_key معتبر نیست",
        "IP پذیرنده معتبر نیست",
        "وارد کردن callback_url الزامی است",
        "callback_url معتبر نیست",
        "وارد کردن amount الزامی است",
        "amount نباید کوچکتر از 1000 باشد",
        "amount باید عدد یا رشته‌ای از اعداد باشد",
        "کد ملی قابل قبول نیست.",
        "شماره کارت قابل قبول نیست.",
        "شناسه ملی باید 10 رقم باشد.",
    ]
}
                            </pre>
                            <ul>
                                <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                                <li>errors: آرایه ای از خطا‌ها.</li>
                            </ul>
                        </div>

                        <h3 class="title" id="step-2">
                           <a href="#step-2"><strong>مرحله دوم:</strong> انتقال کاربر به صفحه پرداخت</a>
                        </h3>
                        <p>اگر در مرحله ارسال اطلاعات، اطلاعات ارسالی صحیح باشد و دو مقدار status و token را دریافت کرده باشید. باید کاربر را به شیوه‌ی زیر به درگاه redirect کنید. برای این کار باید عددی که در مرحله اول در متغیر {token} دریافت کردید را در آخر آدرس قرار دهید و کاربر را به URL ایجاد شده redirect کنید تا بلافاصله کاربر به درگاه پرداخت هدایت شده و سپس مرحله سوم را انجام دهید.</p>
                        <pre>
<span class="key">METHOD:</span> get
<span class="key">URL:</span> https://ipg.vandar.io/v3/{token}
                        </pre>
                        <div class="info">
                            <strong>نکته!</strong> این آدرس یک بار مصرفت است به این معنی که اگر بیش از یک بار صدا زده شود خطای <strong>404</strong> دریافت می‌کنید.
                        </div>

                        <div class="info">
                            <strong>نکته!</strong> بعد از این مرحله منتظر بمانید که کاربر از صفحه پرداخت برگردد. بعد از بازگشت دو پارامتر token و payment_status به انتهای آدرس بازگشتی اضافه شده است. مانند تصویر زیر.
                            <br>
                            <img src="../images/ipg-callback.png" alt="آدرس بازگشتی">
                            اگر payment_status مقداری غیر از OK داشت همینجا می‌توانید فرایند پرداخت را متوقف کنید. اما اگر OK (با حروف بزگ) بود باید تصمیم بگیرید که آیا برای تکمیل تراکنش به مشخصات تراکنش مانند هش شماره کارت نیاز دارید یا خیر. اگر نیاز دارید بعد از این مرحله باید مرحله سوم و بعد چهارم را پیاده سازی کنید. اگه نیاز ندارید، مرحله سوم را نادیده بگیرید و مرحله آخر که تایید تراکنش است را پیاده سازی کنید.
                        </div>

                        <h3 class="title" id="step-3">
                            <a href="#step-3"><strong>مرحله سوم:</strong> دریافت اطلاعات تراکنش</a>

                        </h3>
                        <p>با فراخوانی این سرویس همانطور که قبلا توضیح داده شده، شما اطلاعات تراکنش را دریافت می‌کنید و در صورت نیاز این اطلاعات را قبل تایید و نهایی شدن تراکنش صحت سنجی می‌کنید.</p>

                        <pre>
<span class="key">METHOD:</span> post
<span class="key">URL:</span> https://vandar.io/api/ipg/2step/transaction
                        </pre>

                        <h3 class="sub-title">
                            پارامترهای مجاز
                        </h3>
                        <table>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Status</th>
                            </tr>
                            <tr>
                                <td>api_key</td>
                                <td>string</td>
                                <td>required</td>
                            </tr>
                            <tr>
                                <td>token</td>
                                <td>string</td>
                                <td>required</td>
                            </tr>
                        </table>
                        <h3 class="sub-title">
                            توضیحات
                        </h3>
                        <ul>
                            <li>api_key (اجباری): این کلید بعد از ساخت درگاه پرداخت صادر می‌شود. برای دریافت این کلید به داشبورد وندار مراجعه کنید.</li>
                            <li>token (اجباری): همان توکن پرداختی که در مرحله یک دریافت کردید و در این مرحله از به صورت انتهای آدرس بازگشتی اضافه شده است.</li>
                        </ul>
                        <div class="info">
                            <strong>نکته!</strong> دریافت این اطلاعات به <strong>به هیچ عنوان</strong> به معنی انجام تراکنش نیست.
                        </div>
                        <h3 class="sub-title">
                            نمونه پاسخ دریافتی موفق
                        </h3>
                        <pre>
<span class="key">HTTP/1.1</span> 200
{
    "status": 1,
    "amount": "10000",
    "transId": 155058785697,
    "refnumber": "GmshtyjwKSuZXT81+6o9nKIkOcW*****PY05opjBoF",
    "trackingCode": "23***6",
    "factorNumber": null,
    "mobile": null,
    "description": "description",
    "cardNumber": "603799******6299",
    "CID": "ECC1F6931DDC1B8A0892293774836F3FFAC4A3C9D34997405F340FCC1BDDED82",
    "paymentDate": "2019-02-19 18:21:50",
    "message": "Confirm requierd"
}
                        </pre>
                        <ul>
                            <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                            <li>amount: مبلغ تراکنش که ممکن است با مبلغ تراکنشی که در مرحله اول ارسال کرده باشید متفاوت باشد. اگر کارمزد تراکنش بر عهده پرداخت کننده باشد مبلغ کارمزد هم به مبلغ تراکنش ارسالی از سمت شما اضافه شده است.</li>
                            <li>transId: شناسه یکتای پرداخت که برای پیگیری تراکنش از وندار مورد استفاده قرار می‌گیرد.</li>
                            <li>refnumber: رسید دیجیتال یکتا در شبکه پرداخت کشور.</li>
                            <li>trackingCode: کد رهگیری به همراه تاریخ انجام تراکنش یکتا است.</li>
                            <li>factorNumber: شماره فاکتوری که شما در مرحله اول ارسال کردید.</li>
                            <li>description: توضیحاتی که شما در مرحله اول ارسال کردید.</li>
                            <li>cardNumber: ماسکه شده شماره کارت پرداخت کننده.</li>
                            <li>CID: هش شماره کارت که با الگوریتم SHA256 هش شده است.</li>
                            <li>paymentDate: تاریخ انجام تراکنش.</li>
                            <li>message: وضعیت تراکنش.</li>
                        </ul>
                        <h3 class="sub-title">
                            نمونه پاسخ دریافتی ناموفق
                        </h3>
                        <pre>
<span class="key">HTTP/1.1</span> 4xx
{
    "status": 0,
    "errors": [
      "وارد کردن api key الزامی است",
      "api_key معتبر نیست",
      "IP پذیرنده معتبر نیست",
      "وارد کردن token الزامی است",
      "token معتبر نیست",
      "تراکنش با خطا مواجه شده است"
    ]
}
                        </pre>
                        <ul>
                            <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                            <li>errors: آرایه ای از خطا‌ها.</li>
                        </ul>

                        <h3 class="title" id="step-4">
                            <a href="#step-4"><strong>مرحله چهارم:</strong> تایید تراکنش</a>

                        </h3>
                        <p>آخرین مرحله و تمام کننده یک چرخه پرداخت در شبکه پرداخت وندار تایید تراکنش است. مهمترین نکته این مرحله این است که این سرویس به ازای هر تراکنش و برای جلوگیری از تکرار تراکنش <strong>فقط و فقط یک بار</strong> پاسخ می‌دهد.</p>

                        <pre>
<span class="key">METHOD:</span> post
<span class="key">URL:</span> https://ipg.vandar.io/api/v3/verify
                        </pre>

                        <h3 class="sub-title">
                            پارامترهای مجاز
                        </h3>
                        <table>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Status</th>
                            </tr>
                            <tr>
                                <td>api_key</td>
                                <td>string</td>
                                <td>required</td>
                            </tr>
                            <tr>
                                <td>token</td>
                                <td>string</td>
                                <td>required</td>
                            </tr>
                        </table>
                        <h3 class="sub-title">
                            توضیحات
                        </h3>
                        <ul>
                            <li>api_key (اجباری): این کلید بعد از ساخت درگاه پرداخت صادر می‌شود. برای دریافت این کلید به داشبورد وندار مراجعه کنید.</li>
                            <li>token (اجباری): همان توکن پرداختی که در مرحله یک دریافت کردید و در این مرحله از به صورت انتهای آدرس بازگشتی اضافه شده است.</li>
                        </ul>
                        <h3 class="sub-title">
                            نمونه پاسخ دریافتی موفق
                        </h3>
                        <pre>
<span class="key">HTTP/1.1</span> 200
{
    "status": 1,
    "amount": "1000.00",
    "realAmount": 500,
    "wage": "500",
    "transId": 159178352177,
    "factorNumber": "12345",
    "mobile": "09123456789",
    "description": "description",
    "cardNumber": "603799******7999",
    "paymentDate": "2020-06-10 14:36:30",
    "cid": null,
    "message": "ok"
}
                        </pre>
                        <ul>
                            <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                            <li>amount: مبلغ تراکنش که ممکن است با مبلغ تراکنشی که در مرحله اول ارسال کرده باشید متفاوت باشد. اگر کارمزد تراکنش بر عهده پرداخت کننده باشد. مبلغ کارمزد هم به مبلغ تراکنش ارسالی از سمت شما اضافه شده است.</li>
                            <li>realAmount: مبلغی که بر اساس این تراکنش کیف پول شما بالا رفته است.</li>
                            <li>wage: کارمزد تراکنش.</li>
                            <li>transId: شناسه یکتای پرداخت که برای پیگیری تراکنش از وندار مورد استفاده قرار می‌گیرد.</li>
                            <li>factorNumber: شماره فاکتوری که شما در مرحله اول ارسال کردید.</li>
                            <li>mobile: شماره موبایل پرداخت کننده که در حرحله اول ارسال کردید.</li>
                            <li>description: توضیحاتی که شما در مرحله اول ارسال کردید.</li>
                            <li>cardNumber: ماسکه شده شماره کارت پرداخت کننده.</li>
                            <li>paymentDate: تاریخ انجام تراکنش.</li>
                            <li>cid: هش شماره کارت که با الگوریتم SHA256 هش شده است.</li>
                            <li>message: وضعیت تراکنش.</li>
                        </ul>
                        <h3 class="sub-title">
                            نمونه پاسخ دریافتی ناموفق
                        </h3>
                        <pre>
<span class="key">HTTP/1.1</span> 4xx
{
    "status": 0,
    "errors": [
      "نتیجه تراکنش قبلا از طرف وندار اعلام گردیده.",
      "وارد کردن api key الزامی است",
      "api_key معتبر نیست",
      "IP پذیرنده معتبر نیست",
      "وارد کردن token الزامی است",
      "token معتبر نیست",
      "تراکنش با خطا مواجه شده است"
    ]
}
                        </pre>
                        <ul>
                            <li>status: مقدار 0 و 1 دارد که نشان دهنده موفقیت آمیز بودن درخواست است.</li>
                            <li>errors: آرایه ای از خطا‌ها.</li>
                        </ul>
                    </div>
                </article>
        </div>
    </div>
</div>

<footer id="footer">
    <div class="container">
        <div class="row" style="text-align: center">
            <div class="col-sm-8 col-xs-6 no-padding-bottom">
                <a href="https://github.com/vandarpay/docs" target="_blank">مخزن گیت‌هاب</a>
            </div>
            <div class="col-sm-4 col-xs-6 text-right no-padding-bottom">2020 &copy; <a href="https://vandar.io" target="_blank">وندار</a></div>
        </div>
    </div>

</footer>
<button onclick="goTop()" id="go_top" title="Go to top">^</button>
<script>
    /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;

    for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
        });
    }


    var header = document.getElementById("myHeader");
    var sticky = header.offsetTop;

    window.onscroll = function () {
        var top = document.getElementById("go_top");
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            top.style.display = "block";
        } else {
            top.style.display = "none";
        }
        if (window.pageYOffset  > 320) {
            header.classList.add("fix-sidebar");
        } else {
            header.classList.remove("fix-sidebar");
        }

    };

    function goTop() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
</script>
</body>
</html>
