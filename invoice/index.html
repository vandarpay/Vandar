<!DOCTYPE html>
<html lang="fa">
<head>
    <title>مستندات وندار | ارایه دهنده راهکارهای پرداخت</title>
    <meta name="description" content="">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="format-detection" content="telephone=no">
    <link href="https://fonts.googleapis.com/css2?family=Markazi+Text&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.rtl.css">
    <link rel='icon' href='../favicon.ico' type='image/x-icon' >
</head>
<body dir="rtl">
<header id="header">
    <h1>Vandar</h1>
    <h2>مستندات وندار</h2>
</header>

<div class="container">
    <div class="row">
        <div class="col-sm-3">
            <div id="myHeader">
                <ul>
                    <!--                <li>-->
                    <!--                    <a href="https://vandarpay.github.io/docs/" class="active">مفاهیم اولیه</a>-->
                    <!--                    &lt;!&ndash;                    <div class="sidenav">&ndash;&gt;-->
                    <!--                </li>-->

                    <li>
                        <button class="dropdown-btn">مفاهیم اولیه
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/#postman">Postman</a><br>
                            <a href="https://vandarpay.github.io/docs/#start">شروع کنید</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">درگاه پرداخت

                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/ipg/#payment-gateways">ساخت و ویرایش درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#active-ipg">فعال کردن درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#implementation">پیاده سازی فنی درگاه پرداخت</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-1">مرحله اول</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-2">مرحله دوم</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-3">مرحله سوم</a><br>
                            <a href="https://vandarpay.github.io/docs/ipg/#step-4">مرحله چهارم</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">لاگین
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/auth/#step-1">مرحله اول</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">کسب‌وکار
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/business/#business">لیست کسب و کار ها</a><br>
                            <a href="https://vandarpay.github.io/docs/business/#information">اطلاعات</a><br>
                            <a href="https://vandarpay.github.io/docs/business/#users">کاربران</a><br>
                            <!--                        </div>-->
                        </div>
                        <!--                        <a href="https://vandarpay.github.io/docs/business">کسب‌وکار</a>-->
                    </li>
                    <li>
                        <button class="dropdown-btn">صورت حساب
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/invoice/#wallet">کیف پول</a><br>
                            <a href="https://vandarpay.github.io/docs/invoice/#transactions">صورت حساب</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">سرویس تسویه
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/settlement/#settlements">لیست تسویه ها</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#request-settlement">ثبت درخواست تسویه</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#settlement-details">نمایش جزییات یک تسویه</a><br>
                            <a href="https://vandarpay.github.io/docs/settlement/#cancel">لغو یک تسویه</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <button class="dropdown-btn">سرویس اشتراک
                            <br>
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="https://vandarpay.github.io/docs/subscription/#directdebit">مقدمه</a><br>
                            <a href="https://vandarpay.github.io/docs/subscription/#get-token">سرویس دریافت توکن</a><br>
                            <a href="https://vandarpay.github.io/docs/subscription/#withdrawal">سرویس برداشت وجه</a><br>
                            <!--                        </div>-->
                        </div>
                    </li>
                    <li>
                        <a href="https://vandarpay.github.io/docs/banks">بانک‌ها</a>
                    </li>
                    <li>
                        <a href="https://vandarpay.github.io/docs/errors">خطا‌ها</a>
                    </li>
                </ul>
            </div>

        </div>
        <div class="col-sm-9">
                <article class="content">

                    <div>
                        آخرین تغییرات: ۱۳۹۹/۰۸/۲۱
                    </div>

                    <div class="article" id="invoice">
                        <h2 class="article-header" id="invoice-">
                            <a href="#invoice-">صورت حساب</a>
                            </h2>
                        <div>
                            <h3 class="title" id="introduction">

                              <a href="#introduction"><strong>مقدمه</strong></a>
                            </h3>
                            <p>از وب‌سرویس صورت حساب  وندار جهت مشاهده موجودی کیف پول، گزارش تراکنش ها و تسویه‌ انجام شده در وندار استفاده می شود. </p>
                        </div>
                        <div>
                            <h3 class="title" id="wallet">
                                <a href="#wallet"><strong>کیف پول: </strong>نمایش موجودی کیف پول</a>
                            </h3>
                            <p>این وب‌سرویس جهت مشاهده موجودی کیف پول وندار مورد استفاده قرار می‌گیرد.</p>
                            <pre>
<span class="key">METHOD:</span> GET
<span class="key">URL:</span> https://api.vandar.io/v2/business/{business}/balance
<span class="key">Header:</span> authorization : Bearer {token}</pre>
                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی موفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 200
{
    "<span class="key">status</span>": 1,
    "<span class="key">data</span>": {
        "<span class="key">wallet</span>": 100000,
        "<span class="key">currency</span>": "Toman"
    },
}</pre>

                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>status: درصورت موفق بودن درخواست این مقدار برابر با 1 می باشد.</li>
                                <li>wallet: مقدار کیف پول کسب کار.</li>
                                <li>currency: واحد پولی مقدار کیف پول برگشت داده شده را مشخص می‌کند.</li>
                            </ul>

                            <div class="info">
                                <strong>نکته!</strong> واحد پول استفاده شده در وب‌سرویس وندار فقط تومان می‌باشد.
                            </div>
                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی ناموفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 401
{
    "<span class="key">status</span>": 0,
    "<span class="key">error</span>": "Unauthenticated"
}</pre>

                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>status: درصورت ناموفق بودن درخواست این مقدار برابر با 0 می باشد.</li>
                                <li>error: در صورت منقضی شدن Token ارسالی در Header و یا اشتباه بودن Token با مقدار Unauthenticated برگشت داده می‌شود. </li>
                            </ul>



                        </div>
                        <div>
                            <h3 class="title" id="transactions">
                             <a href="#transactions"><strong>صورت حساب: </strong>دریافت لیست تراکنش‌ها و تسویه‌ها</a>
                            </h3>
                            <p>این وب‌سرویس جهت دریافت گزارش و لیست تراکنش‌ها و تسویه‌های انجام شده در وندار مورد استفاده قرار می‌گیرد.</p>
                            <pre>
<span class="key">METHOD:</span> GET
<span class="key">URL:</span> https://api.vandar.io/v2/business/{business}/transaction?per_page=10&page=1
<span class="key">Header:</span> authorization : Bearer {token}</pre>


                            <h3 class="sub-title">
                                پارامترهای مجاز
                            </h3>
                            <table>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                </tr>
                                <tr>
                                    <td>fromDate</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>toDate</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>statusKind</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>status</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>
                                <tr>
                                    <td>channel</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>

                                <tr>
                                    <td>formId</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>

                                <tr>
                                    <td>ref_id</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>

                                <tr>
                                    <td>tracking_code</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>

                                <tr>
                                    <td>per_page</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>

                                <tr>
                                    <td>q</td>
                                    <td>String</td>
                                    <td>optional</td>
                                </tr>



                            </table>
                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>fromDate (اختیاری): شروع بازه زمانی با فرمت 990504</li>
                                <li>toDate (اختیاری): پایان بازه زمانی با فرمت 990527</li>
                                <li>statusKind (اختیاری): این پارامتر مشخص کننده نوع تراکنش می‌باشد. </li>
                                <ul>
                                    <li> transactions: مشخص کننده تراکنش‌ها. </li>
                                    <li> settlements : مشخص کننده تسویه‌ها. </li>
                                </ul>
                                <li>status (اختیاری):  مشخص کننده وضعیت تراکنش یا تسویه می‌باشد.</li>
                                <ul>
                                    <li>succeed: وضعیت موفق. </li>
                                    <li>failed : وضعیت نا‌موفق. </li>
                                    <li>pending : وضعیت در حال انجام. </li>
                                    <li>canceled : وضعیت لغو شده. </li>
                                </ul>
                                <li>channel (اختیاری): این پارامتر مشخص می‌کند که تراکنش از چه کانالی انجام شده است.</li>
                                <ul>
                                    <li> ipg: تراکنش های درگاه پرداخت. </li>
                                    <li> form : تراکنش های فرم پرداخت. </li>
                                    <li> p2p : تراکنش های انتقال وجه داخلی. </li>
                                    <li> subscription : تراکنش های انتقال وجه داخلی. </li>
                                    <li> settlements : تراکنش های تسویه و تسهیم. </li>
                                </ul>
                                <li>formId (اختیاری): شناسه فرم پرداخت. </li>
                                <li>ref_id (اختیاری): این پارامتر، جستجو بر اساس کد مرجع را فراهم می‌سازد.</li>
                                <li>tracking_code (اختیاری): این پارامتر، جستجو بر اساس کد پیگیری را فراهم می‌سازد.</li>
                                <li>per_page(اختیاری): تعداد رکورد اطلاعاتی درخواست صورت حساب را مشخص میکند. </li>
                                <li>page(اختیاری): با توجه به pagination، صفحه مورد نظر را مشخص می‌کند. </li>
                                <li>q(اختیاری): مقدار موجود در این پارامتر در  فیلدهای تراکنش و فرم و ... جستجو می شود. </li>
                            </ul>

                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی موفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 200
{
    "<span class="key">status</span>": 1,
    "<span class="key">data</span>": {
        "<span class="key">current_page</span>": 1,
        "<span class="key">data</span>": [
          {
            "<span class="key">id</span>": 158935723830,
            "<span class="key">uuid</span>": "4db0d000-cf14-11ea-a8b4-a7b522e6c1f0",
            "<span class="key">amount</span>": 5000,
            "<span class="key">wage</span>": 0,
            "<span class="key">status</span>": 1,
            "<span class="key">ref_id</span>": "GmshtyjwKStPuEvcEcbWlni0iEEYteNlgq2ZuVucO9",
            "<span class="key">tracking_code</span>": "",
            "<span class="key">card_number</span>": "",
            "<span class="key">cid</span>": "",
            "<span class="key">verified</span>": 0,
            "<span class="key">channel</span>": "پرداخت اینترنتی",
            "<span class="key">payment_date</span>": "11:07:11 - 1399\/5\/3",
            "<span class="key">created_at</span>": "11:06:44 - 1399\/5\/3",
            "<span class="key">wallet</span>": "100000",
            "<span class="key">result</span>": "تراکنش موفق",
            "<span class="key">description</span>": "Lorem ipsom .....",
            "<span class="key">factorNumber</span>": "00120",
            "<span class="key">mobile</span>": "",
            "<span class="key">callback_url</span>": "http:\/\/vandar.ui\/ipg-v3\/verify.php",
            "<span class="key">form_title</span>": "",
            "<span class="key">settlement</span>": "",
            "<span class="key">payer</span>": {
                "<span class="key">ip</span>": "89.196.230.198",
                "<span class="key">name</span>": "",
                "<span class="key">slug</span>": "",
                "<span class="key">avatar</span>": "",
                "<span class="key">email</span>": "",
                "<span class="key">phone</span>": "",
                "<span class="key">address</span>": "",
                "<span class="key">mobile</span>": "",
                "<span class="key">additional_fields</span>": {
                      "<span class="key">name</span>": ""
                      "<span class="key">value</span>": ""
                },
                "<span class="key">description</span>": ""
            },
            "<span class="key">receiver</span>": {
                "<span class="key">name</span>": "",
                "<span class="key">slug</span>": "",
                "<span class="key">avatar</span>": "",
                "<span class="key">iban</span>": "",
                "<span class="key">bank_name</span>": ""
            }
          }
        ],
        "<span class="key">first_page_url</span>": "https:\/\/api.vandar.io\/v2\/{business}\/hosting\/transaction?page=1",
        "<span class="key">from</span>": 1,
        "<span class="key">last_page</span>": 85,
        "<span class="key">last_page_url</span>": "https:\/\/api.vandar.io\/v2\/business\/hosting\/transaction?page=85",
        "<span class="key">next_page_url</span>": "https:\/\/api.vandar.io\/v2\/business\/hosting\/transaction?page=2",
        "<span class="key">path</span>": "https:\/\/api.vandar.io\/v2\/business\/hosting\/transaction",
        "<span class="key">per_page</span>": 10,
        "<span class="key">prev_page_url</span>": "",
        "<span class="key">to</span>": 10,
        "<span class="key">total</span>": 842
    }
}</pre>

                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>status: درصورت موفق بودن درخواست این مقدار برابر با 1 می باشد.</li>
                                <li>current_page: با توجه به برگشت دادن اطلاعات به صورت صفحه به صفحه، صفحه فعلی را نمایش می‌دهد.</li>
                                <li>id: شناسه تراکنش یا تسویه را مشخص می‌کند.</li>
                                <li>uuid: شناسه یکتای تراکنش  یا تسویه را مشخص می‌کند.</li>
                                <li>amount: مبلغ کل تراکنش. </li>
                                <li>wage: کارمزد تراکنش. </li>
                                <li>status: نوع تراکنش را مشخص می‌کند. </li>
                                <ul>
                                    <li>  1: نشان دهنده تراکنش با وضعیت موفق. </li>
                                    <li>- 1: نشان دهنده تراکنش با وضعیت ناموفق. </li>
                                    <li> 3 : نشان دهنده تراکنش با وضعیت درحال انجام. </li>
                                    <li> 2 : نشان دهنده تسویه با وضعیت موفق. </li>
                                    <li>-2 : نشان دهنده تسویه با وضعیت درحال انجام. </li>
                                    <li>-3 : نشان دهنده تسویه با وضعیت ناموفق. </li>
                                    <li>-4 : نشان دهنده تسویه با وضعیت لغو شده. </li>
                                    <li>5 : نشان دهنده تراکنش واریزی از نوع انتقال وجه داخلی. </li>
                                    <li>-5 : نشان دهنده تراکنش خروجی از نوع انتقال وجه داخلی. </li>
                                    <li>6 : نشان دهنده تراکنش نوع حق اشتراک. </li>
                                </ul>
                                <li>ref_id: شناسه مرجع تراکنش یا تسویه.  </li>
                                <li>tracking_code: کدپیگیری تراکنش.  </li>
                                <li>verified:  در صورت استفاده از درگاه پرداخت دو مرحله‌ای تراکنش تایید شود این مقدار برابر با ۱ می‌باشد در غیر این‌صورت برابر با ۰ می باشد. در درگاه پرداخت تک مرحله‌ای بلافاصله بعد از انجام تراکنش این مقدار ۱ می‌شود.   </li>
                                <li>channel:    توضیحات فارسی نوع تراکنش. </li>
                                <li>payment_date:  تاریخ و زمان اتمام تراکنش.  </li>
                                <li>created_at:  تاریخ و زمان شروع تراکنش.  </li>
                                <li>wallet:   موجودی کیف پول بعد از تراکنش. </li>
                                <li>result:  توضیحات تراکنش که از شرکت پرداخت برگشت داده می‌شود. </li>
                                <li>description:  توضیحات تراکنش که در مرحله ارسال اطلاعات و دریافت توکن ارسال شده است. </li>
                                <li>factorNumber:  شماره فاکتور تراکنش که در مرحله ارسال اطلاعات و دریافت توکن ارسال شده است. </li>
                                <li>mobile:  شماره موبایل تراکنش که در مرحله ارسال اطلاعات و دریافت توکن ارسال شده است. </li>
                                <li>callback_url:  آدرس بازگشتی که بعد از انجام تراکنش به آن صفحه بر‌می‌گردد که که در مرحله ارسال اطلاعات و دریافت توکن ارسال شده است. </li>
                                <li>form_title:  در صورت پرداخت از فرم پرداخت عنوان فرم نمایش داده می‌شود. </li>
                                <li>settlement:   </li>
                                <li>payer:  اطلاعات پرداخت کننده تراکنش را مشخص‌ می‌کند. </li>
                                <ul>
                                    <li>ip:   ip پرداخت کننده در زمان پرداخت را مشخص می‌کند.</li>
                                    <li>name:   نام پرداخت کننده را مشخص می‌کند. </li>
                                    <li>slug:   درصورتی که تراکنش انتقال وجه داخلی باشد شناسه ونداری واریز کننده را نمایش می دهد. </li>
                                    <li>avatar:   درصورتی که تراکنش انتقال وجه داخلی باشد عکس  واریز کننده را نمایش می دهد. </li>
                                    <li>name:   نام پرداخت کننده را مشخص می‌کند. </li>
                                    <li>email:   ایمیل پرداخت کننده را مشخص می‌کند. </li>
                                    <li>phone:   شماره تماس پرداخت کننده را مشخص می‌کند. </li>
                                    <li>address:   آدرس پرداخت کننده را مشخص می‌کند. </li>
                                    <li>mobile:   شماره همراه پرداخت کننده را مشخص می‌کند. </li>
                                    <li>additional_fields:   فیلد هایی که به صورت دلخواه به فرم اضافه کرده‌اید در این بخش نمایش داره می‌شود. </li>
                                    <ul>
                                        <li>name: نام فیلد دلخواه را نمایش می دهد. </li>
                                        <li>value: مقدار فیلد دلخواه را نمایش می دهد. </li>
                                    </ul>
                                    <li>description:   توضیحات پرداخت کننده را مشخص می‌کند. </li>
                                    <li>نکته: فیلدهای نام، ایمیل، شماره تماس، آدرس، موبایل و توضیحات، زمان پرداخت فرم درصورتی که در تنظیمات فرم فعال شده باشد ذخیره می‌شود. </li>
‍
                                </ul>
                                <li>receiver:  طلاعات دریافت کننده تسویه را مشخص‌ می‌کند. </li>
                                <ul>
                                    <li>name: نام صاحب حساب که تسویه به آن صورت گرفته است.</li>
                                    <li>slug:   درصورتی که تراکنش انتقال وجه داخلی باشد شناسه ونداری دریافت کننده مبلغ را نمایش می دهد. </li>
                                    <li>avatar:   درصورتی که تراکنش انتقال وجه داخلی باشد عکس  دریافت کننده مبلغ را نمایش می دهد. </li>
                                    <li>iban: شماره شبا که تسویه به آن صورت گرفته است.</li>
                                    <li>bank_name: نام بانک شماره شبا که تسویه به آن صورت گرفته است.</li>
                                </ul>
                            </ul>



                            <h3 class="sub-title">
                                نمونه پاسخ دریافتی ناموفق
                            </h3>
                            <pre>
<span class="key">HTTP/1.1</span> 401
{
    "<span class="key">status</span>": 0,
    "<span class="key">error</span>": "Unauthenticated"
}</pre>

                            <h3 class="sub-title">
                                توضیحات
                            </h3>
                            <ul>
                                <li>status: درصورت ناموفق بودن درخواست این مقدار برابر با 0 می باشد.</li>
                                <li>error: در صورت منقضی شدن Token ارسالی در Header و یا اشتباه بودن Token با مقدار Unauthenticated برگشت داده می‌شود. </li>
                            </ul>

                        </div>


                    </div>
                </article>
        </div>
    </div>
</div>

<footer id="footer">
    <div class="container">
        <div class="row" style="text-align: center">
            <div class="col-sm-8 col-xs-6 no-padding-bottom">
                <a href="https://github.com/vandarpay/docs" target="_blank">مخزن گیت‌هاب</a>
            </div>
            <div class="col-sm-4 col-xs-6 text-right no-padding-bottom">2020 &copy; <a href="https://vandar.io" target="_blank">وندار</a></div>
        </div>
    </div>

</footer>
<button onclick="goTop()" id="go_top" title="Go to top">^</button>
<script>
    /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;

    for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
        });
    }


    var header = document.getElementById("myHeader");
    var sticky = header.offsetTop;

    window.onscroll = function () {
        var top = document.getElementById("go_top");
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            top.style.display = "block";
        } else {
            top.style.display = "none";
        }
        if (window.pageYOffset  > 320) {
            header.classList.add("fix-sidebar");
        } else {
            header.classList.remove("fix-sidebar");
        }

    };

    function goTop() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
</script>
</body>
</html>
